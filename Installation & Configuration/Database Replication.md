# Database Replication

ë°ì´í„°ë² ì´ìŠ¤ ì´ì¤‘í™”ëŠ” í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë°ì´í„°ë¥¼ ë³µì‚¬í•˜ëŠ” ê²ƒì„ ë§—ë‚˜ë‹¤.     
ë°ì´í„°ë² ì´ìŠ¤ ì´ì¤‘í™” ì‹œìŠ¤í…œì€ ëª¨ë“  ë…¸ë“œê°€ ë™ì¼í•œ ìˆ˜ì¤€ì˜ ì •ë³´ë¥¼ ê³µìœ í•˜ëŠ” ë¶„ì‚° ë°ì´í„°ë² ì´ìŠ¤ì´ë‹¤.    

## Master And Slave

ëŒ€ë‹¤ìˆ˜ì˜ DBMSëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì´ì¤‘í™”ë¥¼ ì§€ì›í•œë‹¤.   
ê°€ì¥ ì¼ë°˜ì ì¸ ì´ì¤‘í™” êµ¬ì¡°ëŠ” `ë§ˆìŠ¤í„°(ì›ë³¸)/ìŠ¬ë ˆì´ë¸Œ(ë³µì‚¬ë³¸)` ê´€ê³„ë¥¼ ì±„íƒí•˜ê³  ìˆë‹¤.  

![asynchronousreplication](https://user-images.githubusercontent.com/50267433/164360492-25bade02-af8a-476d-a07c-eaffc65bf90e.png)

ë§ˆìŠ¤í„° ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ëŠ” ë°ì´í„° ì—…ë°ì´íŠ¸ë¥¼ ê¸°ë¡í•˜ê³  **í•´ë‹¹ ë¡œê·¸**ë¥¼ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ìŠ¬ë ˆì´ë¸Œë¡œ ì „íŒŒí•œë‹¤.   
ìŠ¬ë ˆì´ë¸Œ ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ëŠ” ë§ˆìŠ¤í„°ë¡œë¶€í„° ì—…ë°ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ìˆ˜ì‹ í•˜ê³  ì´ëŸ¬í•œ ë³€ê²½ ì‚¬í•­ì„ ì ìš©í•œë‹¤.   

![synchronousreplication](https://user-images.githubusercontent.com/50267433/164360556-850e1775-727b-4ab6-b25f-d7958769e429.png)

ë‹¤ì¤‘ ë§ˆìŠ¤í„° ì´ì¤‘í™” ì‹œìŠ¤í…œì—ì„œëŠ” ì•„ë¬´ ë°ì´í„°ë² ì´ìŠ¤ ë…¸ë“œì— ì—…ë°ì´íŠ¸ë¥¼ ì œì¶œí•  ìˆ˜ ìˆìœ¼ë©° ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ë…¸ë“œë¡œ ì „íŒŒëœë‹¤.    
ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë§ˆìŠ¤í„°ë¡œ ì‘ë™í•œë‹¤.     
ë³€ê²½ì— ëŒ€í•œ ë¡œê·¸ê°€ ì—†ìœ¼ë©° ì—…ë°ì´íŠ¸ ì„±ê³µ ì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ëŠ” í‘œì‹œê¸°ê°€ ì „ì†¡ë˜ì§€ ì•ŠëŠ”ë‹¤.  

## Asynchronous and Synchronous Replication(ë™ê¸° ë° ë¹„ë™ê¸° ì´ì¤‘í™”)  
ë…¸ë“œê°„ì˜ ê´€ê³„ ì„¤ì • ì™¸ì—ë„, í´ëŸ¬ìŠ¤í„°ë¥¼ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ íŠ¸ëœì­ì…˜ì„ ì „íŒŒí•˜ëŠ” í”„ë¡œí† ì½œë„ ì¡´ì¬í•œë‹¤.   

* Synchronous Replication :    
    * ë¹ ë¥¸ ë³µì œ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤.  
    * ë…¸ë“œëŠ” ë‹¨ì¼ íŠ¸ëœì­ì…˜ì˜ ëª¨ë“  ë³µì œë³¸ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ëª¨ë“  ë³µì œë³¸ì„ ë™ê¸°í™” ìƒíƒœë¡œ ìœ ì§€í•œë‹¤.   
    * ì¦‰, íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œ ëª¨ë“  ë…¸ë“œì˜ ê°’ì´ ë™ì¼í•˜ë‹¤.   
* Asynchronous Replication :    
    * ëŠë¦° ë³µì œ ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. 
    * ë§ˆìŠ¤í„° ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë³µì œë³¸ ì—…ë°ì´íŠ¸ë¥¼ ë‹¤ë¥¸ ë…¸ë“œë¡œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì „íŒŒí•©ë‹ˆë‹¤. 
    * ë§ˆìŠ¤í„° ë…¸ë“œê°€ ë³µì œë³¸ì„ ì „íŒŒí•œ í›„ íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë©ë‹ˆë‹¤. 
    * ë‹¤ì‹œ ë§í•´ì„œ, íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ë  ë•Œ, ì ì–´ë„ ì§§ì€ ì‹œê°„ ë™ì•ˆ, ì¼ë¶€ ë…¸ë“œëŠ” ë‹¤ë¥¸ ê°’ì„ ë³´ìœ í•©ë‹ˆë‹¤.

ì—¬ê¸°ì„œ ë¹ ë¥´ê³  ëŠë¦¬ë‹¤ëŠ” ê²ƒì€, ì„±ëŠ¥ì´ ì•„ë‹Œ ë³µì œë³¸ì´ ì´ì¤‘í™”ë˜ëŠ” ì‹œì ì´ ë¹ ë¥´ë‹¤ ëŠë¦¬ë‹¤ì´ë‹¤.   
ë™ê¸° ë°©ì‹ì€ 'ë™ê¸°'ì´ê¸° ë•Œë¬¸ì— ì—…ë°ì´íŠ¸ ì»¤ë°‹ ì‹œì ì— ì´ì¤‘í™”ê°€ ì´ë£¨ì–´ì§„ë‹¤.    
ë¹„ë™ê¸° ë°©ì‹ì€ 'ë¹„ë™ê¸°'ì´ê¸° ë•Œë¬¸ì— ì—…ë°ì´íŠ¸ ì»¤ë°‹ì´ ë˜ê³  ì´í›„ ì´ì¤‘í™”ê°€ ì´ë£¨ì–´ì§„ë‹¤.   

## Advantages of Synchronous Replication

ë™ê¸° ë³µì œëŠ” ë¹„ë™ê¸° ë³µì œì— ë¹„í•´ ëª‡ ê°€ì§€ ì¥ì ì´ ìˆë‹¤.   

* **ê³ ê°€ìš©ì„± ë™ê¸° ì´ì¤‘í™”ëŠ” ê°€ìš©ì„±ì´ ë†’ì€ í´ëŸ¬ìŠ¤í„°ë¥¼ ì œê³µí•˜ê³  24/7 ì„œë¹„ìŠ¤ë¥¼ ë³´ì¦í•œë‹¤.**    
    * ë…¸ë“œê°€ ì¶©ëŒí•´ë„ ë°ì´í„° ì†ì‹¤ì´ ì—†ë‹¤.   
    * ë°ì´í„° ë³µì œë³¸ì€ ì¼ê´€ì„±ì„ ìœ ì§€í•œë‹¤.   
    * ë³µì¡í•˜ê³  ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ëŠ” ì¥ì•  ì¡°ì¹˜ê°€ ì—†ë‹¤.     
  
* **ì„±ëŠ¥ í–¥ìƒ ë™ê¸°ì‹ ì´ì¤‘í™”ëŠ” í´ëŸ¬ìŠ¤í„°ì˜ ëª¨ë“  ë…¸ë“œì—ì„œ íŠ¸ëœì­ì…˜ì„ ë³‘ë ¬ë¡œ ì‹¤í–‰í•˜ì—¬ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.**
* **í´ëŸ¬ìŠ¤í„° ë™ê¸°ì‹ ì´ì¤‘í™”ì˜ ì¸ê³¼ê´€ê³„ëŠ” ì „ì²´ í´ëŸ¬ìŠ¤í„°ì— ê±¸ì³ ì¸ê³¼ ê´€ê³„ë¥¼ ë³´ì¥í•©ë‹ˆë‹¤.**   
    * ì˜ˆë¥¼ ë“¤ì–´, íŠ¸ëœì­ì…˜ ì´í›„ì— ì‹¤í–‰ëœ SELECT ì¿¼ë¦¬ëŠ” ë‹¤ë¥¸ ë…¸ë“œì—ì„œ ì‹¤í–‰ëœ ê²½ìš°ì—ë„ í•­ìƒ íŠ¸ëœì­ì…˜ì˜ íš¨ê³¼ë¥¼ ë³¸ë‹¤.   

## Disadvantages of Synchronous Replication
  
Eager ì´ì¤‘í™”ëŠ” ë…¸ë“œë“¤ì„ í•œ ë²ˆì— í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë¡œ ì¡°ì •í•œë‹¤.       
ì´ ê³¼ì •ì—ì„œ 2ë‹¨ê³„ì˜ ì»¤ë°‹ ë˜ëŠ” ë¶„ì‚° ì ê¸ˆì„ ì‚¬ìš©í•œë‹¤.     
1ê°œì˜ ë…¸ë“œëŠ” ì´ˆë‹¹ ğ‘¡ íŠ¸ëœì­ì…˜ì˜ ì²˜ë¦¬ëŸ‰ê³¼ í•¨ê»˜ í”„ë¡œì„¸ìŠ¤ ğ‘œ ì‘ì—…ì„ ê°€ì§„ë‹¤.    
ê·¸ë¦¬ê³  ì´ë¡œ ì¸í•´ ğ‘› ìˆ˜ì˜ ë…¸ë“œê°€ ìˆëŠ” ì‹œìŠ¤í…œì€ ì´ˆë‹¹ ğ‘š ë©”ì‹œì§€ë¥¼ ì œê³µí•œë‹¤.      
             
```
M = N x O x T   
```  

ë…¸ë“œ ìˆ˜ê°€ ì¦ê°€í•˜ë©´ íŠ¸ëœì­ì…˜ ì‘ë‹µ ì‹œê°„ê³¼ ì¶©ëŒ ë° êµì°© ìƒíƒœ ë¹„ìœ¨ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•œë‹¤.       
ì´ëŸ¬í•œ ì´ìœ ë¡œ, **ë¹„ë™ê¸° ë³µì œëŠ” ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥, í™•ì¥ì„± ë° ê°€ìš©ì„±ì„ ìœ„í•œ ì£¼ìš” ë³µì œ í”„ë¡œí† ì½œë¡œ ë‚¨ì•„ ìˆë‹¤.**            
`MySQL` ë° `Postgre`ì™€ ê°™ì´ ë„ë¦¬ ì±„íƒëœ ì˜¤í”ˆ ì†ŒìŠ¤ ë°ì´í„°ë² ì´ìŠ¤SQLì€ **ë¹„ë™ê¸° ë³µì œ ì†”ë£¨ì…˜ë§Œ ì œê³µí•œë‹¤.**.       
(ë™ê¸° => ê¸°í•˜ê¸‰ìˆ˜, ê·¸ë˜ì„œ ìš°ì„  ë¹„ë™ê¸°ëŠ” ë‚¨ê²¨ë‘ )   
  
## Solving the Issues in Synchronous Replication






